<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="SQL-考研专业课笔记"><meta name="keywords" content="note"><meta name="author" content="Dai Sine"><meta name="copyright" content="Dai Sine"><title>SQL-考研专业课笔记 | Hi, Dai</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-117497526-4', 'auto');
ga('send', 'pageview');</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-选填"><span class="toc-text">1. 选填</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#12年"><span class="toc-text">12年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13年"><span class="toc-text">13年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14年"><span class="toc-text">14年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15年"><span class="toc-text">15年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16年"><span class="toc-text">16年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17年"><span class="toc-text">17年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18年"><span class="toc-text">18年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#19年"><span class="toc-text">19年</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-大题"><span class="toc-text">2. 大题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#18年-1"><span class="toc-text">18年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17年-1"><span class="toc-text">17年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16年-1"><span class="toc-text">16年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15年-1"><span class="toc-text">15年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14年-1"><span class="toc-text">14年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13年-1"><span class="toc-text">13年</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12年-1"><span class="toc-text">12年</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Dai Sine</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">57</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">12</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">9</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://i.loli.net/2019/05/10/5cd525fea97ac.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Hi, Dai</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">SQL-考研专业课笔记</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-02</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/软件工程/">软件工程</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h3 id="1-选填"><a href="#1-选填" class="headerlink" title="1. 选填"></a>1. 选填</h3><h4 id="12年"><a href="#12年" class="headerlink" title="12年"></a>12年</h4><ul>
<li>数据完整性约束的建立需要通过数据库管理系统提供的 <em>数据定义语言</em> 来实现。</li>
<li>某高校五个学院的学生信息存放在同一个基本表中，采取建立各学院的行级视图，并将对该视图的读权限赋予该学院的管理员。</li>
<li>设关系R与S的<strong>属性个数</strong>分别为 r 和 s，则(R X S)操作结果的b为 <em>r+s</em> 。</li>
<li>学生关系R(sno, sname, dno, mag)，其中sno为学生号，sname为学生姓名，dno为学院号，mag为院长，主键诶sno，则关系R属于 <em>2NF</em> 。<br>sno → (sname, dno, mag) 完全依赖<br>dno → mag   传递函数依赖而非直接函数依赖，故不是3NF</li>
</ul>
<a id="more"></a>
<ul>
<li>索引提高了查询的速度，但一般会降低更新的速度。<br>不应该创建索引的情况： <em>修改性能远远大于检索性能</em></li>
<li>规范化理论是关系数据库进行逻辑设计的理论依据，根据这个理论，关系数据库中的关系必须满足：每一个属性都是 <em>不可分解的</em> 。</li>
<li><em>DBA - 数据库管理员</em> 是指负责数据库的建立、使用和维护的专门人员。</li>
<li>在关系代数运算中，从关系中取出满足条件的元组的运算称为 _选择_ 。</li>
<li><em>存储过程</em> 是一组为了完成特定功能的SQL语句集，经<strong>编译后</strong>存储在数据库中。用户通过指定其名字并给出参数来执行它，一般是作为独立的部分来执行。</li>
<li>在传统关系系统中，关系是笛卡尔积的子集/关系是一张二维表，其中的元组次序可以交换， <em>关系不可以嵌套定义</em> 。(1NF)</li>
<li>数据的<strong>物理独立性</strong>是指用户和用户程序不依赖于数据库的物理结构。<br>数据的<strong>逻辑独立性</strong>是指当数据库重构造时，用户和用户程序不受影响。</li>
</ul>
<h4 id="13年"><a href="#13年" class="headerlink" title="13年"></a>13年</h4><ul>
<li><strong>嵌入式SQL</strong>中负责向主语言传递SQL语句执行状态的是 <em>SQLCA</em> 。<ol>
<li><strong>主变量</strong>实现主语言与SQL语句交换数据。</li>
<li><strong>游标</strong>用于将SQL查询结果集带回给主语言进行逐行处理。</li>
<li><strong>SQLCA</strong>用于传递SQL语句的执行状态给主语言，再由主语言据此决定程序执行流程。</li>
<li><strong>SQL语句</strong>只能对数据库对象进行操作。</li>
</ol>
</li>
<li>存储过程和函数的区别：<ol>
<li>存储过程可以返回参数，而函数只能返回值或者表对象。</li>
<li>存储过程一般是作为一个独立的部分来执行，而函数可以作为查询语句的一个部分来调用。</li>
<li>存储过程在调用时才加载，函数在系统启动时就进行编译并加载。</li>
<li>一般来说，存储过程实现的功能要复杂一些，函数实现的功能针对性更强    </li>
</ol>
</li>
<li>数据库系统中完整性约束的句子主要有三种： <em>主键(primary key)</em>、检查子句(check)和外键子句 (foreign key)。</li>
<li>数据库系统的体系结构分为单用户结构、主从式结构、分布式结构、 <em>客户机</em>服务器结构_ 和 <em>浏览器</em>服务器结构_ 。</li>
</ul>
<h4 id="14年"><a href="#14年" class="headerlink" title="14年"></a>14年</h4><ul>
<li>在<strong>SQL Server2008</strong>中，<strong>Master数据库</strong>记录SQL Server系统的所有系统级信息，包括实例范围内的元数据、端点、链接服务器和系统配置设置。<ol>
<li><strong>Model数据库</strong>用作SQL Server实例上创建的所有数据库的模板。</li>
<li><strong>Resource数据库</strong>是一个只读数据库，包含SQL Server包括的系统对象。</li>
<li><strong>tempdb数据库</strong>是一个工作空间，用于保存临时对象或中间结果集。P69</li>
</ol>
</li>
<li>数据库的三级模式结构是指数据库系统由外模式、模式、内模式三级构成，数据库的三级模式结构保证了 <em>数据库的独立性</em> 。</li>
</ul>
<h4 id="15年"><a href="#15年" class="headerlink" title="15年"></a>15年</h4><ul>
<li>在select语句中使用sum(列名)时，列名要求 <em>不限制数据类型</em> 。</li>
<li><p>数据库安全性控制措施：审计，视图，加密</p>
</li>
<li><p>SQL语言中 commit 语句的主要作用是 <em>提交事务</em> 。</p>
</li>
<li>在视图上<strong>不能</strong>完成的操作是 <em>在视图上定义新的基本表</em> 。</li>
<li>DMBS总是基于某种数据模型，可以分为层次型、网状型、关系型和面向对象型DBMS。</li>
<li>并发控制是以 _事务_ 为单位进行的。</li>
<li>在数据库系统中，游标是系统为用户开设的一个 <em>数据缓冲区</em> ，存放SQL语句的执行结果。</li>
<li>SQL语句通过 <em>revoke语句</em> 实现收回所授权限的操作。<br>revoke &lt;权限&gt; [on &lt;对象类型&gt; &lt;对象名&gt;]  from &lt;用户&gt;</li>
<li>结构化查询语言SQL是一种关系数据库语言，其主要功能有数据定义、数据查询、 <em>数据操纵</em>、数据控制等。</li>
</ul>
<h4 id="16年"><a href="#16年" class="headerlink" title="16年"></a>16年</h4><ul>
<li>“age between 18 and 40”短语的正确含义是： <em>age&lt;=40 and age&gt;=18</em></li>
<li>存储过程是一组预先 _定义_ 并 _编译_ 的T-SQL语句。</li>
<li>数据库的完整性是指保护数据库中数据的正确性、 <em>有效性</em> 和相容性，防止不合语义的数据进入数据库。</li>
<li>通过加锁可以保证处理程序开发时的数据 <em>一致性</em> 。</li>
<li>视图是关系数据库系统提供给用户以多角度观察数据库数据的重要机制。视图是从一个或几个基本表(或视图)导出的 <em>虚拟表</em> ，通过视图可以看到数据库中相应的数据及其变化。</li>
</ul>
<h4 id="17年"><a href="#17年" class="headerlink" title="17年"></a>17年</h4><ul>
<li>数据库类型是按照 <em>数据模型</em> 来划分的。</li>
<li><em>数据无冗余</em> 不属于<strong>数据库的特点</strong>。一般我们说<strong>数据冗余度低</strong>。<br>特点：数据结构化，数据共享，数据独立性高，数据的完整性、灵活性、安全性 </li>
<li>在关系代数中，从一个关系中选取若干属性列组成新的关系，称为<strong>投影</strong>。P42</li>
<li>属性A是关系R的主属性，则属性A不能取空值，这是 <em>实体完整性规则</em> 。P37</li>
<li>在SQL语言中，删除基本表的命令是 <em>drop table</em> 。</li>
<li>存储过程 <em>不是客户端的程序</em> 。<br>存储过程是数据库服务器端的一段程序。<pre><code>* Type1:(select)检索数据，检索到的数据以数据集的形式返回给客户端。
* Type2:(insert, delete)不返回数据，只执行一个动作
</code></pre>存储过程的作用：<pre><code>* 屏蔽表的细节，起到安全作用。
* 简化用户的操作。
* 提高系统的执行效率。
</code></pre></li>
<li><em>触发器</em> 是一种特殊的存储过程，它可以在对一个表进行insert、update和delete操作中任一种或几种操作时被自动调用。</li>
<li><em>封锁(技术)</em> 是目前DBMS普遍采用的并发控制的方法，可以有效地控制并发事务之间的相互作用，保证数据的一致性。</li>
<li>如果一个属性或属性集合的值能唯一标识一个关系的元组而又不含有多余的属性，则称该属性或属性集合为该关系的 <em>候选键</em> 。</li>
</ul>
<h4 id="18年"><a href="#18年" class="headerlink" title="18年"></a>18年</h4><p>用关系型数据库系统来管理数据，数据由 <em>DBMS</em> 统一管理和控制，数据的独立性高，共享性好，冗余度低。</p>
<ul>
<li>基本的SQL语言不可以实现 <em>并发控制</em>。</li>
<li>数据库管理机制要解决丢失更新、不一致以及 <em>“脏资料”</em> 等问题，可以通过枷锁技术解决。</li>
<li>数据库系统中，<strong>游标</strong>是系统为用户开设的一个数据缓冲区，存放SQL语句的 <em>结果数据集</em> 。</li>
<li>数据库设计的一般步骤包括需求分析、概念结构设计、逻辑结构设计、 <em>数据库物理设计</em>、数据库实施、数据库运行维护等。</li>
<li>关系模式SCS(Sno, Cno, Score)中，Sno是学生的学号，Cno是课程号，Score为成绩。需查询出每门课的平均成绩，且要求查询结果按平均成绩升序排列，平均成绩相同时，按课程号降序排列，其SQL语言可写为：<br>select Cno, avg(Score) from SCS group by Cno order by Cno/2 desc<pre><code>* order by 2 = order by Cno 表示按照第二列。
* 默认升序，即asc，可以省略不写。
</code></pre></li>
<li>SQL语句select语句中，“having条件表达式”用来筛选满足条件的 <em>组(group)</em> 。</li>
<li>数据库的并发操作可能带来的问题包括 <em>丢失更新</em> 、 <em>不可重复读</em> 和 <em>读“脏“数据。</em></li>
<li>E-R图某实体具有一个多值属性，在转化为关系模式时，应 <em>将实体的键与多值属性单独构成关系模式</em> 。 -课本P250-<br>Way1:将联系转换成一个独立的关系，其关系的属性由与该联系相连的各实体键以及联系本身的属性组成，而该联系的键为n端实体集的键。<br>Way2:在n端实体集增加新属性，新属性由联系对应1端实体集的键和联系自身的属性构成， <em><strong>新增属性后原关系的键不变。</strong></em></li>
<li>数据库三级模式体系结构的划分，有利于保持数据库的 <em>数据独立性</em> ；外模式<em>模式的映像保证逻辑独立；模式</em>内模式则保证 <em>物理独立性</em> 。</li>
<li>主键的<strong>列</strong>一定是not null，在行记录不可重复，可以将若干非null列合并起来作为主键。主键的列数据类型不受约束。</li>
<li><em><strong>完整性约束</strong></em> ：主键约束(实体完整性)、外键约束(参照完整性)、属性约束(用户定义的完整性)、域约束、断言约束。 -课本P156 对应笔记-</li>
<li>为数据表创建索引的目的是 <em>提高查询的检索性能</em> 。</li>
<li>关系数据库用 <em>表格数据</em> 来表示实体之间的联系，其任何检索操作的实现都是由 <em><strong>选择、投影和连接</strong></em> 三种基本操作组合而成。</li>
<li>结构化查询语言SQL是一种关系型数据库语言。其主要功能有数据定义、数据操作和 <em>数据查询和数据控制</em> 。</li>
<li>数据字典包括：1.数据项、2.数据结构、3.数据存储、4.数据流和5.处理过程。</li>
<li>员工工资总额在800元至30000元之间”的约束属于DBMS的 <em>完整性控制</em><br>A．封锁控制<br>B．并发控制<br>C．完整性控制<br>D．安全性控制</li>
</ul>
<h4 id="19年"><a href="#19年" class="headerlink" title="19年"></a>19年</h4><ol start="11">
<li>下列四项中，不属于数据库系统的主要特点的是 _B_<br>A) 数据结构化                 B) 程序的标准化<br>C) 较高的数据独立性            D) 数据的冗余度小</li>
</ol>
<ul>
<li>考点：数据库的特点<br>数据库具有较<strong>小</strong>冗余度、较高的程序与数据独立性、易于扩充和数据结构化的特点。</li>
</ul>
<ol start="12">
<li>保护数据以防止未经授权或不合法的使用造成的数据泄露、更改或破坏是指数据库的 _A_<br>A) 安全性控制     B) 完整性控制     C) 并发控制        D)故障恢复</li>
<li>视图是一个“虚表”，视图的构造基于 _C_<br>A) 基本表         B) 视图            C)基本表或视图    D)数据字典 </li>
<li>关系数据模型的三个组成部分中，不包括 _C_<br>A) 完整性约束     B) 数据结构         C) 恢复            D)数据操作</li>
</ol>
<ul>
<li>考点：关系数据模型的三个组成部分：1.数据结构、2.数据操作 3.完整性约束。</li>
</ul>
<ol start="15">
<li>设属性A是关系R的主属性，则属性A不能取空值(NULL)，这是 _A_<br>A) 实体完整性规则             B) 参照完整性规则<br>C)用户定义完整性规则        D) 域完整性规则</li>
</ol>
<ul>
<li>考点：<ul>
<li>实体完整性：规定表的每一行在表中是惟一的实体。</li>
<li>域完整性：是指表中的列必须满足某种特定的数据类型约束，其中约束又包括取值范围、精度等规定。</li>
<li>参照完整性：是指两个表的主键和外键的数据应一致，保证了表之间的数据的一致性，防止了数据丢失或无意义的数据在数据库中扩散。</li>
<li>用户定义的完整性：不同的关系数据库系统根据其应用环境的不同，往往还需要一些特殊的约束条件。用户定义的完整性即是针对某个特定关系数据库的约束条件，它反映某一具体应用必须满足的语义要求。</li>
</ul>
</li>
</ul>
<ol start="16">
<li>现有关系表：学生（宿舍编号，宿舍地址，学号，姓名，性别，专业，出生日期）的主键是 _B_<br>A) 宿舍编号                    B) 学号<br>C) 宿舍地址、姓名            D) 宿舍编号、学号</li>
</ol>
<ul>
<li>主键：学号可以唯一标识一条记录。<br>学号→(宿舍编号, 宿舍地址, 学号, 姓名, 性别, 专业, 出生日期) 完全依赖√<br>宿舍编号→宿舍地址   传递函数依赖√ 而非直接函数依赖，故不是3NF</li>
</ul>
<ol start="17">
<li>如果事务T已在数据R上加了X锁，则其他事务在数据R上 _D_<br>A) 只可加X锁                     B) 只可加S锁<br>C) 可加S锁或X锁                D) 不能加任何锁</li>
</ol>
<ul>
<li>封锁类型：<ul>
<li>排它锁(写锁/独占锁)：若事务T对数据对象A加上X锁 / 排他锁，则只允许T读取和修改A，其它任何事务都不能再对A加任何类型的锁，直到T释放A上的锁。</li>
<li>共享锁(读锁)：若事务T对数据对象A加上S锁 / 共享锁，则事务T可以读A但不能修改A，其它事务只能再对A加S锁，而不能加X锁，直到T释放A上的S锁。</li>
</ul>
</li>
</ul>
<ol start="18">
<li>如果一个班只能有一个班长，而且一个班长不能同时担任其他班的班长，班级和班长两个实体之间的关系属于 _D_<br>A) m:n        B) 1:m         C) m:1        D) 1:1</li>
<li><p>从数据库管理系统的角度看，数据库系统一般采用三级模式结构，如下图所示，图中1 2 处应填写(   _C_   )，3 处应填写(   _D_   )。<br>1 2   A) 外模式 / 概念模式             B) 概念模式 / 内模式     </p>
<pre><code>     C) 外模式 / 概念模式映像         D) 概念模式 / 内模式映像
3   A) 外模式 / 概念模式             B) 概念模式 / 内模式     
     C) 外模式 / 概念模式映像         D) 概念模式 / 内模式映像
        &lt;img src=&quot;/Users/yi/Desktop/1.png&quot; width=&quot;30%&quot; height=&quot;80%&quot; /&gt;
</code></pre></li>
<li><p>结构化查询语言SQL是一种关系数据库语言，其主要功能有数据定义、数据查询、数据操纵以及 <em>数据控制</em> 。</p>
</li>
<li><em>DBMS</em> 是位于用户与操作系统之间的一层数据管理软件，为用户或应用程序提供访问DB的方法。</li>
<li>“向emp表增加一个telephone列，其数据类型为11个字符型”的SQL语句是：ALTER TABLE emp <em>add telephone char(11)</em></li>
</ol>
<ul>
<li>修改已有表：向已有表中新增一列</li>
</ul>
<ol start="14">
<li>一个SQL语句原则上可产生或处理一组记录，而程序语言一次只能处理一个记录，为此必须协调两种处理方式，这是通过使用 _游标_ 机制来解决的。</li>
<li>并发控制的主要方法是采用封锁机制，其锁的类型有 <em>排他锁</em> (写锁/独占锁)和 <em>共享锁</em> (读锁)两种。</li>
</ol>
<h3 id="2-大题"><a href="#2-大题" class="headerlink" title="2. 大题"></a>2. 大题</h3><h4 id="18年-1"><a href="#18年-1" class="headerlink" title="18年"></a>18年</h4><ul>
<li><p><strong>数据库日志</strong>：是用来记录事务对数据库的更新操作的文件。<br>作用：1.进行事务故障恢复和系统故障恢复。</p>
<pre><code>2.协助后备副本进行介质恢复。
</code></pre></li>
<li><p><strong>数据仓库</strong>：是一个面向主题的、集成的、不可更新的、随时间不断变化的数据集合，用以支持企业或组织的决策分析处理。</p>
</li>
<li><p><strong>数据库完整性约束</strong>：指的是<strong>为了</strong>防止不符合规范的数据进入数据库，<strong>在</strong>用户对数据进行插入、修改、删除等<strong>操作时</strong>，<strong>DBMS</strong>自动按照一定的约束条件对数据进行监测，使不符合规范的数据不能进入数据库，<strong>以确保</strong>数据库中存储的数据<strong>正确、有效、相容</strong>。</p>
</li>
<li><p>SQL中的完整性约束机制主要有：主键约束、外键约束、属性约束、 -域约束、断言约束和触发器约束。-</p>
</li>
<li><p><strong>事务</strong>：是用户定义的一个数据库操作序列，这些操作要么全做，要么全不做，是一个不可分割的工作单位。具有原子性、一致性、隔离性和持续性。</p>
</li>
<li><p><strong>并发控制</strong>：是指为了确保在多个事务同时存取数据库中同一数据时不破坏事务的隔离性和统一性以及数据库的统一性，对并发操作进行控制。</p>
</li>
<li><p>什么是视图？使用视图有什么优点？<br><strong>视图</strong>：是从一个或几个基本表(或视图)导出的一个虚拟表，数据库中只存放视图的定义，而不存放视图对应的数据， -这些数据仍然存储在原来的基本表中，基本表中的数据发生了改变，视图中查询出的数据也会发生改变。-<br><strong>使用视图的优点:</strong> </p>
<ol>
<li>提高安全性</li>
<li>简化操作</li>
<li>增强数据逻辑独立性</li>
</ol>
</li>
<li><p><strong>存储过程</strong>：是一组完成特定功能的SQL语句集，经编译后存储在数据库中。用户通过指定存储过程的名字并给出参数来 -(如果有)- 执行它。<br><strong>存储过程的作用</strong>：</p>
<ol>
<li>重复使用</li>
<li>提高性能</li>
<li>减少网络流量</li>
<li>安全性</li>
</ol>
</li>
<li><p>什么是数据挖掘？它和数据仓库有什么关系？<br><strong>数据挖掘</strong>是指从大量的、不完全的、有噪声的、模糊的数据中提取出人们视线不知道，但对人们有潜在价值的信息和知识的过程。<br><strong>数据仓库</strong>是一个面向主题的、集成的、不可更新的、随时间不断变化的数据集合，用以支持企业或组织的决策分析处理。</p>
<ul>
<li>区别：数据仓库是为了支持复杂的分析和决策，数据挖掘是为了在海量的数据里面发掘出预测性的、分析性的信息。</li>
<li>联系：数据仓库可以作为数据挖掘的数据源。</li>
</ul>
</li>
<li><p>数据库运行中可能产生的故障有哪几类？哪些故障影响事务的正常执行？哪些故障破坏数据库数据？ -P199-</p>
<ol>
<li><strong>事务故障</strong><ul>
<li>(1)逻辑错误。事务由于某些内部条件而无法继续正常执行，如非法输入、找不到数据、运算溢出或超出资源限制。 </li>
<li>(2)系统错误。系统进入一种不良状态(如死锁)，结果事务无法继续正常执行。</li>
</ul>
</li>
<li><strong>系统故障</strong>/软故障：引起系统停止运转随之要求重新启动的事件称为”系统故障“。</li>
<li><strong>介质故障</strong>/硬故障：指外存故障，系统在运行过程中，由于某种硬件故障，使存储在外存上的数据部分损失或全部损失，并影响正在存取这部分数据的所有事务。</li>
<li><strong>计算机病毒</strong><br>影响事务的正常执行：1，2，<strong>3</strong><br>破坏数据库数据：<strong>3</strong>，4</li>
</ol>
</li>
<li><p>什么是索引？索引有何优点和缺点？<br><strong>索引</strong>：是对数据库表中一列或多列的值进行排序的一种结构。<br><strong>优点</strong>：</p>
<pre><code>1. **加快**数据的**检索**速度
2. 创建**唯一性索引**，**保证**数据库表中每一行**数据的唯一性**
3. 加速**表和表**之间的**连接**
4. 使用**分组**和**排序子句**进行数据**检索**时，可以显著**减少**查询中分组和排序的**时间**
</code></pre><p> <strong>缺点</strong>：</p>
<pre><code>1. 占据物理空间。除了数据表占数据空间之外，每一个**索引**还要**占一定的物理空间**
2. **创建**索引和**维护**索引要耗**费时**间
3. 当对表中的数据进行**增**加、**删**除和修**改**的时候，**索引**也要**动态的维护**，**降低**了**数据**的**维护速度**
</code></pre></li>
<li><p>设有一个数据库Library，包括Book，Borrow，Reader三个关系模式：<br>Book(Bno, Btitile, Bauthor, Bprice);<br>Borrow(Rno, Bno, BorrowDate, Returndate);<br>Reader(Rno, Rname, Rsex, Rage, Reducation);<br>图书表Book由图书编号(Bno)、图书名称 (Btitle)、图书作者 (Bauthor)、图书价格 (Bprice)组成；<br>借阅表Borrow由读者编号(Rno)、图书编号 (Bno)、借阅时间 (BorrowDate)、归还时间 (Returndate)组成；<br>读者表Reader由读者编号(Rno)、读者姓名 (Rname)、读者性别 (Rex)、读者年纪 (Rage)、读者学历 (Reducation)组成。<br>针对数据库Library，写出实现下列操作的SQL语句。</p>
<p>1) 修改读者表Reader中的Rename列；把Rename列修改成下列定义：<br>列名：Rename；数据类型：Char；长度：20；<strong>允许空否：NULL；</strong></p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> Reader</span><br><span class="line">	<span class="keyword">alter</span> <span class="keyword">column</span> <span class="keyword">Rename</span> <span class="built_in">Char</span>(<span class="number">20</span>) <span class="literal">null</span></span><br></pre></td></tr></table></figure>
<p>2)查询所有年龄在17～22岁(包括17岁到22岁)之间的读者姓名及年龄。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> Rname, Rage </span><br><span class="line"><span class="keyword">from</span> Reader</span><br><span class="line"><span class="keyword">where</span> Rage <span class="keyword">between</span> <span class="number">17</span> <span class="keyword">and</span> <span class="number">22</span></span><br></pre></td></tr></table></figure>
<p>3)查询所有姓林的读者的姓名(Rname)、性别(Rsex)和年龄(Rage)。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> Rname, Rsex, Rage</span><br><span class="line"><span class="keyword">from</span> Reader</span><br><span class="line"><span class="keyword">Where</span> Rname <span class="keyword">like</span> <span class="string">'林%'</span></span><br></pre></td></tr></table></figure>
<p>4)查阅所有的借阅记录，按读者编号(Rno)升序排列，读者编号相同的，按照借阅时间(BorrowDate)降序排列。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> Borrow</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> Rno <span class="keyword">asc</span>, BorroDate <span class="keyword">desc</span></span><br></pre></td></tr></table></figure>
<p>5)查阅比编号为B01的图书的价格低的图书的编号(Bno)，书名(Btitle)和价格(Bprice)。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> Rno, Btitle, Bprice</span><br><span class="line"><span class="keyword">from</span> Book</span><br><span class="line"><span class="keyword">Where</span> Bprice &lt;</span><br><span class="line">	(<span class="keyword">select</span> Bprice <span class="keyword">from</span> Book <span class="keyword">where</span> Bno = <span class="string">'B01'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="17年-1"><a href="#17年-1" class="headerlink" title="17年"></a>17年</h4><ul>
<li>常用的<strong>控制数据库安全性的方法</strong>有哪些？<ol>
<li>用户标识和身份鉴定</li>
<li>存取控制</li>
<li>定义视图</li>
<li>审计</li>
<li>数据加密</li>
</ol>
</li>
<li>什么是视图？使用视图的主要优点是什么？<br><strong>视图</strong>：从一个或者几个基本基本表(或视图)导出的表，它是一个虚表，只存放视图的定义，而不存放视图定义的数据。<br><strong>优点</strong>：<ol>
<li>简化用户操作</li>
<li>增强数据逻辑独立性</li>
<li>能够对机密数据提供安全保护(提高安全性)</li>
</ol>
</li>
<li>在数据库中<strong>为什么要并发控制</strong>？<br>多个用户并行地存取数据库系统，就会发生多个用户并发地存取同一数据的情况。如果对这些并发奥做不加控制，数据库就可能存取和存储不正确的数据，破坏数据库的一致性，所以DBMS必须对并发执行的事务之间进行并发控制。</li>
<li><strong>数据库设计</strong>的一般<strong>步骤</strong>是什么？<ol>
<li>需求分析：需求文档，数据字典，数据流图</li>
<li>概念设计：E-R图</li>
<li>逻辑结构设计：某种数据模型</li>
<li>物理结构设计：存储安排，方法选择，存储路径建立</li>
<li>系统实施：编写模式，数据装入，数据库试运行</li>
<li>系统维护：性能测试，转储/恢复，数据库的重组和重构</li>
</ol>
</li>
<li><em>什么是索引？索引有何优点和缺点？<strong>18年</strong></em></li>
<li>根据下面要求绘制E-R图<br>实体类型“商店”的属性有：商店编号，店名，店址，店经理；<br>实体类型“会员”的属性有：会员编号，会员名，地址；<br>实体类型“职工”的属性有：职工编号，职工名，性别，工资；<br>每家商店有若干职工，但每个职工只能服务于一家商店。每家商店有若干会员，每个会员可以属于多家商店。在联系中应反映出职工参加某商店工作的开始时间，会员的加入时间。</li>
</ul>
<ul>
<li>按题目要求写出SQL语句。<br>设有一个关系数据库，有三个基本表，表结构如下：<br>STUDENT(学号，姓名，年龄，性别，学院号)<br>SC(学号，课程号，成绩)<br>COURSE(课程号，课程名，学时数，课程类型)<br>1)创建STUDENT表，SQL语句中属性用汉字表示，指定学号为主键。可合理取定相关数据类型。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> STUDENT(</span><br><span class="line">	学号 <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span>, 		<span class="comment">-- 学号 int not null primary key,</span></span><br><span class="line">	姓名 <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">	年龄 <span class="built_in">int</span>,</span><br><span class="line">	性别 <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">	学院号 <span class="built_in">int</span>,</span><br><span class="line">	primary <span class="keyword">key</span>(学号),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>2) 将SC表中学号为“20090105”的成绩从62改为82。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> SC </span><br><span class="line"><span class="keyword">set</span> 成绩 = <span class="number">82</span></span><br><span class="line">	<span class="keyword">where</span> 学号 = <span class="string">'20090105'</span></span><br></pre></td></tr></table></figure>
<p>3) 创建一个视图Myview，查询课程类型为“选修课程”的学生的学院号，学号，姓名。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> Myview </span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> a.学院号, 学号, 姓名 <span class="keyword">from</span> STUDENT a, SC b, COURSE c</span><br><span class="line">	<span class="keyword">where</span> a.学号 = b.学号 <span class="keyword">and</span> b.课程号 = c.课程号 <span class="keyword">and</span> c.课程类型 = <span class="string">'选修类型'</span></span><br></pre></td></tr></table></figure>
<p>4) 删除上述表中与课程名“数据库原理”有关的所有记录。<strong>2句不能合在一起写</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> SC</span><br><span class="line">	<span class="keyword">where</span> 课程号 = (<span class="keyword">select</span> 课程号 <span class="keyword">from</span> COURSE <span class="keyword">where</span> 课程名= <span class="string">'数据库原理'</span>)</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> COURSE</span><br><span class="line">	<span class="keyword">where</span> 课程名= <span class="string">'数据库原理'</span> 		<span class="comment">--注意两个delete语句的先后顺序</span></span><br></pre></td></tr></table></figure>
<h4 id="16年-1"><a href="#16年-1" class="headerlink" title="16年"></a>16年</h4><ul>
<li><strong>数据字典</strong>：是结构化设计的一个工具，它用于对系统中各类数据进行详尽的描述，是对各类数据描述的集合， -它通常包括数据项、数据结构、数据流、数据存储和处理过程5个部分。-</li>
<li><strong>事务</strong> <em>(18’)</em> ：是数据库的逻辑工作单元，是用户定义的一组操作序列。</li>
<li><strong>并发控制</strong> <em>(18’)</em> ：是指为了确保在多个事务同时存取数据库中同一数据时不破坏事务的隔离性和统一性以及数据库的统一性，对并发操作进行控制。</li>
<li><strong>数据表索引</strong>：索引是对数据库表中一列或者多列的值进行排序的一种结构。建立索引是加快查询的有效手段，用户可以滚举应用环境的需要，在基本表上建立一个或多个索引，以提供多种存取路径，加快查询速度。</li>
<li><strong>触发器</strong>：是数据库服务器中发生事件时自动执行的特殊的存储过程，它不需要由用户调用执行，而是当用户对表进行update、insert、delete操作时，会自动执行触发器所定义的SQL语句。</li>
<li>采用数据库三层模式结构的优点有哪些？<ol>
<li>保证数据的独立性</li>
<li>简化用户接口</li>
<li>有利于数据共享</li>
<li>有利于数据的安全和保密</li>
</ol>
</li>
<li>为什么要使用NoSQL数据库？<ol>
<li>NoSQL数据库易扩展</li>
<li>数据量大，高性能</li>
<li>灵活的数据模型</li>
<li>可用性高</li>
</ol>
</li>
<li>采用数据库日志的目的是什么？ (<em>*2 18,16</em>)<br>数据库日志时用来记录事务对数据库的更新操作的文件<ol>
<li>进行事务故障恢复和系统故障恢复</li>
<li>协助后备副本进行介质恢复</li>
</ol>
</li>
<li>相对于数据库技术，XML技术在数据应用方面具有哪些优缺点？<br>优点：<ol>
<li>跨平台：XML是纯文本文件，不受操作系统、软件平台的限制。</li>
<li>易表义：XML 具有基于Schema 自描述语义的功能，容易描述数据的语义</li>
<li>XML 可以描述结构化、半结构化，甚至非结构化数据。<br>缺点：</li>
<li>XML 技术采用的是基于文件的管理机制，容量大、管理困难</li>
<li>XML 的检索基于节点，大量的XML 文件检索速度低</li>
<li>解析机制存在缺陷</li>
<li>XML 的安全性及并发操作机制问题</li>
</ol>
</li>
<li>数据库SALES包含四个关系：<br>CUSTOMERS(cid, cname, city, discnt)，CUSTOMERS存储顾客信息，包括顾客编号、姓名、所在城市和获得的折扣率。<br>PRODUCTS(pid, pname, city, quantity, price)，PRODUCTS存储商品的信息，包括商品编号、名称、商品库存所在城市、库存量和单价。<br>AGENTS(aid,  aname, city, percent)，AGENTS存储代理商的信息，包括代理商编号、名称、城市和代理佣金。<br>ORDERS(ordno, month, cid, aid, pid, qty, dollars)，ORDERS存储订购信息，包括订购编号、当年订购月份、顾客编号、代理商编号、商品编号、订购数量和总价。<br>针对数据库SALES，写出实现下列操作的SQL语句。<br>1) 查询姓名以字母“w”开始的顾客在上半年的所有订购信息。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> CUSTOMERS c, ORDERS o <span class="comment">--o.month between 1 and 6</span></span><br><span class="line"><span class="keyword">where</span> c.cname <span class="keyword">like</span> <span class="string">'w%'</span> <span class="keyword">and</span> c.cid = o.cid <span class="keyword">and</span> o.month &lt;= <span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>2) 查询顾客的cid值，这些顾客购买的产品是由代理商a03订购的。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> y.cid <span class="keyword">from</span> ORDERS x, ORDERS y</span><br><span class="line"><span class="keyword">where</span> x.pid = y.pid <span class="keyword">and</span> x.aid = <span class="string">'a03'</span></span><br></pre></td></tr></table></figure>
<p>3) 产品名为“充电娃娃”的产品被购买，数据已入库，但由于产品质量问题全部退货，现要求删除所有涉及到“充电娃娃”的数据。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> ORDERS</span><br><span class="line"><span class="keyword">where</span> pid = (<span class="keyword">select</span> pid <span class="keyword">from</span> PRODUCTS <span class="keyword">where</span> pname = <span class="string">'充气娃娃'</span>)</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> PRODUCTS </span><br><span class="line"><span class="keyword">where</span> pname = <span class="string">'充气娃娃'</span></span><br></pre></td></tr></table></figure>
<p>4) 将所有订货总金额超过12000的顾客的折扣率增加8%。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> CUSTOMERS</span><br><span class="line"><span class="keyword">set</span> discnt = discnt*<span class="number">1.08</span></span><br><span class="line">	<span class="keyword">where</span> cid <span class="keyword">in</span> (<span class="keyword">select</span> cid <span class="keyword">from</span> ORDERS <span class="keyword">group</span> <span class="keyword">by</span> cid <span class="keyword">having</span> <span class="keyword">sum</span>(dollars) &gt;<span class="number">12000</span> )</span><br></pre></td></tr></table></figure>
<p>5) 查询获得最大折扣值的所有顾客的姓名。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> cname <span class="keyword">from</span> CUSTOMERS</span><br><span class="line"><span class="keyword">where</span> disct = (<span class="keyword">select</span> <span class="keyword">max</span>(disct) <span class="keyword">from</span> CUSTOMERS) </span><br><span class="line">		<span class="comment">--'in' replace '=' ?</span></span><br></pre></td></tr></table></figure>
<h4 id="15年-1"><a href="#15年-1" class="headerlink" title="15年"></a>15年</h4><ul>
<li><strong>数据库日志</strong> </li>
<li><strong>数据仓库</strong> </li>
<li><strong>数据库完整性</strong> </li>
<li><strong>事务</strong> </li>
<li><strong>并发控制</strong> </li>
<li>什么是视图？有什么作用？ </li>
<li>什么是数据挖掘？它和数据仓库间有什么关系？</li>
<li>数据库设计的一般步骤是什么？</li>
<li>什么是索引？索引有何优点和缺点？</li>
<li><strong>设计一个完整的数据库应用系统应注意哪些问题？</strong><ol>
<li>要满足用户的需求</li>
<li>要便于维护和扩产</li>
<li>要具有“可读性”</li>
<li>能够满足空间和效率的要求</li>
<li>好的数据库设计可以简化业务逻辑的设计</li>
</ol>
</li>
<li>设有一个关系数据库，有三个基本表，表结构如下：<br>STUDENT(学号，姓名，年龄，性别，系号)<br>SC(学号，课程号，成绩)<br>COURSE(课程号，课程名，学时数，课程类型)<br>1) 写出创建STUDENT表的SQL语句，指定学号为主键。可合理取定相关数据类型。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> STUDENT(</span><br><span class="line">	学号 <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,	<span class="comment">--sno </span></span><br><span class="line">	姓名 <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span>,		<span class="comment">--sname</span></span><br><span class="line">	年龄 <span class="built_in">int</span>,	<span class="comment">--sage</span></span><br><span class="line">	性别 <span class="built_in">varchar</span>(<span class="number">255</span>),	<span class="comment">--ssex</span></span><br><span class="line">	系号 <span class="built_in">varchar</span>(<span class="number">255</span>)	<span class="comment">--adept</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>2) 将COURSE表中课程号为“100020”的学时数从24改为32。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> COURSE</span><br><span class="line"><span class="keyword">set</span> 学时数 = <span class="number">32</span> <span class="keyword">where</span> 课程号 = <span class="number">100020</span></span><br><span class="line"><span class="comment">-- set ctime = '32' where cno = '100020'</span></span><br></pre></td></tr></table></figure>
<p>3) 在STUDENT表中插入一条记录，其中学号=’20130101’，姓名=’王芳’，年龄=20，性别=’女’，系号=’rj’</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> STUDENT <span class="keyword">values</span>(<span class="string">'20130101'</span>, <span class="string">'王芳'</span>, <span class="number">20</span>, <span class="string">'女'</span>, <span class="string">'rj'</span>)</span><br></pre></td></tr></table></figure>
<p>4) 创建一个视图TView，查询课程类型为选修课程的学生的系号、学号、姓名。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> TView</span><br><span class="line"><span class="keyword">as</span> <span class="keyword">select</span> a.系号, 学号, 姓名 <span class="keyword">from</span> STUDENT a, SC b, COURSE c <span class="keyword">where</span> a.学号 = b.学号 <span class="keyword">and</span> b.课程号 = c.课程号 <span class="keyword">and</span> c.课程类型 = <span class="string">'选修课程'</span></span><br></pre></td></tr></table></figure>
<p>5) 由于某个系号=’rj’的学生退学，从数据库删除该学生的所有相关信息。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> STUDENT <span class="keyword">where</span> 系号 = <span class="string">'rj'</span></span><br></pre></td></tr></table></figure>
<h4 id="14年-1"><a href="#14年-1" class="headerlink" title="14年"></a>14年</h4><ul>
<li><strong>视图</strong> </li>
<li><strong>事务</strong> </li>
<li><strong>索引</strong> </li>
<li><strong>存储过程</strong> </li>
<li><strong>数据库完整性</strong> </li>
<li>简述数据库设计的基本步骤。</li>
<li>数据库的安全性保护的常用措施有哪些？</li>
<li><strong>简述E-R概念模型转换为关系模型的转换规则。</strong><ol>
<li>实体集的转换规则：将一个实体集转化为一个关系，实体的属性就是关系的属性，实体的标识符就是关系的键，关系的结构就是关系模式。</li>
<li>实体集间联系的转换规则：实体集间的联系可以按照1:1, 1:n, m:n来转化。<ul>
<li>1:1 联系可转换为一个独立的关系，也可与任一端实体集对应关系合并</li>
<li>1:n  联系转换一个独立关系(两端实体的键+联系本身的属性)，或在n端实体集增加新属性(联系对应于1端实体集的键+联系本身的属性)</li>
<li>m:n 联系转换为关系(两端实体的键+联系本身属性)，新关系的键为<strong>两端实体键的组合</strong>。</li>
</ul>
</li>
<li>关系合并规则：具有相同键的关系，可根据情况合并为一个关系。</li>
</ol>
</li>
<li>数据库运行过程中可能产生的故障有哪几类？<strong>具体内容是什么？</strong> </li>
<li>什么是<strong>日志文件</strong>？为什么要在系统中建立日志文件？</li>
<li>数据库SALES包含四个关系：<br>CUSTOMERS(cid, cname, city, discnt)，CUSTOMERS存储顾客信息，包括顾客编号、姓名、所在城市和获得的折扣率。<br>PRODUCTS(pid, pname, city, quantity, price)，PRODUCTS存储商品的信息，包括商品编号、名称、商品库存所在城市、库存量和单价。<br>AGENTS(aid,  aname, city, percent)，AGENTS存储代理商的信息，包括代理商编号、名称、城市和代理佣金。<br>ORDERS(ordno, month, cid, aid, pid, qty, dollars)，ORDERS存储订购信息，包括订购编号、当年订购月份、顾客编号、代理商编号、商品编号、订购数量和总价。<br>针对数据库SALES，写出实现下列操作的SQL语句。<br>1) 查询姓名以字母“A”开头的顾客的所有信息。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> CUSTOMERS <span class="keyword">where</span> cname <span class="keyword">like</span> <span class="string">'A%'</span></span><br></pre></td></tr></table></figure>
<p>2) 查询订购了被代理商a06订购过的产品的所有顾客的cid。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> cid <span class="keyword">from</span> ORDERS <span class="keyword">where</span> pid <span class="keyword">in</span>(<span class="keyword">select</span> pid <span class="keyword">from</span> ORDERS <span class="keyword">where</span> aid = <span class="string">'a06'</span>)</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> x.cid <span class="keyword">from</span> ORDERS x, ORDERS y</span><br><span class="line"><span class="keyword">where</span> x.pid = y.pid <span class="keyword">and</span> y.aid = <span class="string">'a06'</span></span><br></pre></td></tr></table></figure>
<p>3) 删除数据表AGENTS中的居住在“New York”的所有代理商的记录。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> AGENTS</span><br><span class="line"><span class="keyword">where</span> city = <span class="string">'New York'</span></span><br></pre></td></tr></table></figure>
<p>4) 查询折扣值小于最大折扣值的所有顾客的cid。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> cid <span class="keyword">from</span> CUSTOMERS <span class="keyword">where</span> discnt &lt; </span><br><span class="line">	(<span class="keyword">select</span> <span class="keyword">max</span>(discnt) <span class="keyword">from</span> CUSTOMERS)</span><br></pre></td></tr></table></figure>
<p>5) 将所有订货总金额超过2000的顾客的折扣率增加10%。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> <span class="keyword">from</span> CUSTOMERS </span><br><span class="line"><span class="keyword">set</span> discnt = discnt * <span class="number">1.1</span></span><br><span class="line"><span class="keyword">where</span> cid <span class="keyword">in</span> (<span class="keyword">select</span> cid <span class="keyword">from</span> ORDERS <span class="keyword">group</span> <span class="keyword">by</span> cid <span class="keyword">having</span> <span class="keyword">sum</span>(dollars) &gt; <span class="number">2000</span>)</span><br></pre></td></tr></table></figure>
<h4 id="13年-1"><a href="#13年-1" class="headerlink" title="13年"></a>13年</h4><ul>
<li>什么是<strong>数据库日志</strong>？有什么作用？</li>
<li>简述数据库设计的基本步骤。</li>
<li>数据库安全性保护的常用措施有哪些？</li>
<li>什么是视图？使用视图的主要优点是什么？</li>
<li>什么是事务？<strong>简述事务ACID特性。</strong><br><strong>A - 原子性</strong>：事务时数据库的逻辑工作单位，事务的所有操作要么都做，要么都不做。<br><strong>C - 一致性</strong>：事务单独执行时，保持数据库的一致性。执行的结果是数据库从一个一致性的状态变为另一个一致性的状态。<br><strong>I - 隔离性</strong>：一个事务的执行不能被其他事务干扰。(并发的事务间不能相互干扰)<br><strong>D - 持续性</strong>：一旦事务提交成功，它对数据库中数据的改变是永久的，即使数据库发生故障也是如此。</li>
<li>数据库SALES包含四个关系：<br>CUSTOMERS(cid, cname, city, disct)，CUSTOMERS存储顾客信息，包括顾客编号、姓名、所在城市和获得的折扣率。<br>PRODUCTS(pid, pname, city, quantity, price)，PRODUCTS存储商品的信息，包括商品编号、名称、商品库存所在城市、库存量和单价。<br>AGENTS(aid,  aname, city, percent)，AGENTS存储代理商的信息，包括代理商编号、名称、城市和代理佣金。<br>ORDERS(ordno, month, cid, aid, pid, qty, dollars)，ORDERS存储订购信息，包括订购编号、当年订购月份、顾客编号、代理商编号、商品编号、订购数量和总价。<br>针对数据库SALES，写出实现下列操作的SQL语句。<br>1) 查询既订购了商品编号为P03，又订购了商品编号为P05的商品的顾客的cid。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> cid <span class="keyword">from</span> ORDERS</span><br><span class="line"><span class="keyword">where</span> pid = <span class="string">'P03'</span> <span class="keyword">and</span> cid <span class="keyword">in</span> </span><br><span class="line">(<span class="keyword">select</span> cid <span class="keyword">from</span> ORDERS <span class="keyword">where</span> pid = <span class="string">'P05'</span>) </span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> cid <span class="keyword">from</span> ORDERS x, ORDERS y</span><br><span class="line"><span class="keyword">where</span> x.pid = <span class="string">'P03'</span> <span class="keyword">and</span> y.pid = <span class="string">'P05'</span> <span class="keyword">and</span> x.cid = y.cid</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> cid <span class="keyword">from</span> ORDERS <span class="keyword">where</span> pid = <span class="string">'P03'</span></span><br><span class="line"><span class="keyword">intersect</span></span><br><span class="line"><span class="keyword">select</span> cid <span class="keyword">from</span> ORDERS <span class="keyword">where</span> pid = <span class="string">'P05'</span></span><br></pre></td></tr></table></figure>
<p>2) 查询满足条件为某个代理商所订购的某种产品的总数量超过1000的商品编号、代理商编号和总数量。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> pid, aid, <span class="keyword">sum</span>(qty) <span class="keyword">as</span> total	<span class="comment">--as别名</span></span><br><span class="line"><span class="keyword">from</span> ORDERS <span class="keyword">group</span> <span class="keyword">by</span> pid, aid <span class="keyword">having</span> <span class="keyword">sum</span>(qty)&gt;<span class="number">1000</span></span><br></pre></td></tr></table></figure>
<p>3) 修改表PRODUCTS的数据，把存放在城市Duluth或Dallas的所有产品的价格提高10%。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> PRODUCTS</span><br><span class="line"><span class="keyword">set</span> price = price * <span class="number">1.1</span></span><br><span class="line"><span class="keyword">where</span> city = <span class="string">'Duluth'</span> <span class="keyword">or</span> city = <span class="string">'Dallas'</span></span><br><span class="line"><span class="comment">--where city in('Duluth', 'Dallas')</span></span><br></pre></td></tr></table></figure>
<p>4) 授予用户SQLTest对数据库Sales的CUSTOMERS表的列cid、cname的查询权限。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> <span class="keyword">on</span> CUSTOMERS(cid, cname) <span class="keyword">to</span> SQLTest</span><br></pre></td></tr></table></figure>
<p>5) 删除数据表AGENTS中的居住在“New York”的所有代理商的记录。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> AGENTS <span class="keyword">where</span> city = <span class="string">'New York'</span></span><br></pre></td></tr></table></figure>
<h4 id="12年-1"><a href="#12年-1" class="headerlink" title="12年"></a>12年</h4><ul>
<li>什么是<strong>数据库日志</strong>？有什么作用？  </li>
<li>简述数据库设计的基本步骤。 </li>
<li>数据库安全性保护的常用措施有哪些？ </li>
<li>什么是视图？使用视图的主要优点是什么？ </li>
<li>什么是事务？简述事务ACID特性。 </li>
<li>设有一个数据库Library，包括Book，Borrow，Reader三个关系模式：<br>Book(Bno, Btitile, Bauthor, Bprice);<br>Borrow(Rno, Bno, BorrowDate, Returndate);<br>Reader(Rno, Rname, Rsex, Rage, Reducation);<br>图书表Book由图书编号(Bno)、图书名称 (Btitle)、图书作者 (Bauthor)、图书价格 (Bprice)组成；<br>借阅表Borrow由读者编号(Rno)、图书编号 (Bno)、借阅时间 (BorrowDate)、归还时间 (Returndate)组成；<br>读者表Reader由读者编号(Rno)、读者姓名 (Rname)、读者性别 (Rex)、读者年纪 (Rage)、读者学历 (Reducation)组成。<br>针对数据库Library，写出实现下列操作的SQL语句。<br>1)  请写出创建Reader表的SQL语句，以读者编号为主键，且姓名不能为空值。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Reader(</span><br><span class="line">	Rno <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span>,</span><br><span class="line">	Rname <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">	Rsex <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">	Rage <span class="built_in">int</span>,</span><br><span class="line">	Reducation <span class="built_in">varchar</span>(<span class="number">255</span>)</span><br><span class="line">	foreign <span class="keyword">key</span>(Rno) <span class="keyword">references</span> Borrow(Rno)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>2)  查询比编号为B01的图书价格低的图书的编号、书名和价格。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> Bno, Btitle, Bprice <span class="keyword">from</span> Book <span class="keyword">where</span> Bprice &lt; </span><br><span class="line">	(<span class="keyword">select</span> Bprice <span class="keyword">from</span> Book <span class="keyword">where</span> Bno = <span class="string">'B01'</span>)</span><br></pre></td></tr></table></figure>
<p>3)  删除所有没有人借的书。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> Book</span><br><span class="line"><span class="keyword">where</span> Bno <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> Bno <span class="keyword">from</span> Borrow)</span><br></pre></td></tr></table></figure>
<p>4)  将编号为“R03”的读者年龄改为22岁。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> Reader</span><br><span class="line"><span class="keyword">set</span> Rage = <span class="number">22</span> <span class="keyword">where</span> Rno = <span class="string">'R03'</span></span><br></pre></td></tr></table></figure>
<p>5)  建立一个视图，显示读者的借书记录，包括读者姓名、书名、借书日期。</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> MyView(Rname, Btitle, Borrowdate)</span><br><span class="line"><span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span> a.Rname, b.Btitle, c.Borrowdate </span><br><span class="line"><span class="keyword">from</span> Reader a, Book b, Borrow c </span><br><span class="line"><span class="keyword">where</span> a.Rno = c.Rno <span class="keyword">and</span> c.Bno = b.Bno.</span><br></pre></td></tr></table></figure></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Dai Sine</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://daisine.github.io/sqlky/">https://daisine.github.io/sqlky/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/note/">note</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/cxky/"><i class="fa fa-chevron-left">  </i><span>C语言试卷笔记</span></a></div><div class="next-post pull-right"><a href="/cky/"><span>C语言-考研专业课笔记</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'https://daisine.github.io/sqlky/';
  this.page.identifier = 'sqlky/';
  this.page.title = 'SQL-考研专业课笔记';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'dasine' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script></div></div><footer class="footer-bg" style="background-image: url(https://i.loli.net/2019/05/10/5cd525fea97ac.png)"><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2020 By Dai Sine</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>